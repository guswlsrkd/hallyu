<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
  <Appenders>
    <Console name="Console" target="SYSTEM_OUT">
      <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%t] %logger{36} - %msg%n"/>
    </Console>
    <RollingFile name="AppFile" fileName="${sys:catalina.base}/logs/hallyu.log"
                 filePattern="${sys:catalina.base}/logs/hallyu-%d{yyyy-MM-dd}.log.gz">
      <PatternLayout pattern="%d{HH:mm:ss.SSS} %-5p %c - %m%n"/>
      <Policies><TimeBasedTriggeringPolicy/></Policies>
    </RollingFile>
  </Appenders>

  <Loggers>
  <!-- MyBatis 자체 로그 -->
  <Logger name="org.apache.ibatis" level="DEBUG" additivity="false">
    <AppenderRef ref="Console"/>
  </Logger>
  
  <!-- log4jdbc: 파라미터 치환된 최종 SQL / 실행시간 -->
  <Logger name="jdbc.sqlonly"  level="DEBUG" additivity="false">
    <AppenderRef ref="Console"/>
  </Logger>
  <Logger name="jdbc.sqltiming" level="DEBUG" additivity="false">
    <AppenderRef ref="Console"/>
  </Logger>
  
  <Logger name="org.springframework.security" level="debug" additivity="false">
        <AppenderRef ref="Console"/>
  </Logger>

    <Logger name="org.springframework.security.oauth2" level="debug" additivity="false">
        <AppenderRef ref="Console"/>
    </Logger>
    <!-- log4jdbc SQL -->
    <Logger name="jdbc.sqlonly" level="DEBUG" additivity="false">
    <AppenderRef ref="Console"/></Logger>
    <Logger name="jdbc.resultsettable" level="DEBUG" additivity="false"><AppenderRef ref="Console"/></Logger>

    <Root level="INFO">
      <AppenderRef ref="Console"/>
      <AppenderRef ref="AppFile"/>
    </Root>
  </Loggers>
</Configuration>
